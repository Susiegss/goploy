(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c4684"],{"3b65":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{staticClass:"app-container"},[a("el-row",{staticClass:"app-bar",attrs:{type:"flex",justify:"end"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.handleAdd}},[t._v("添加")])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",stripe:"","highlight-current-row":"",data:t.tableData}},[a("el-table-column",{attrs:{prop:"account",label:"账号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"mobile",label:"手机号码","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"superManager",label:"超管"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(1===e.row.superManager?"是":"否")+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"insertTime",label:"创建时间",width:"160"}}),t._v(" "),a("el-table-column",{attrs:{prop:"updateTime",label:"更新时间",width:"160"}}),t._v(" "),a("el-table-column",{attrs:{prop:"operation",label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[1!==e.row.id&&e.row.id!==t.$store.getters.uid?a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(a){return t.handleEdit(e.row)}}},[t._v("编辑")]):t._e(),t._v(" "),1!==e.row.id&&e.row.id!==t.$store.getters.uid?a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){return t.handleRemove(e.row)}}},[t._v("删除")]):t._e()]}}])})],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"},attrs:{type:"flex",justify:"end"}},[a("el-pagination",{attrs:{"hide-on-single-page":"",total:t.pagination.total,"page-size":t.pagination.rows,background:"",layout:"prev, pager, next"},on:{"current-change":t.handleCurrentChange}})],1),t._v(" "),a("el-dialog",{attrs:{title:"成员设置",visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"form",attrs:{rules:t.formRules,model:t.formData,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"账号",prop:"account"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.formData.account,callback:function(e){t.$set(t.formData,"account",e)},expression:"formData.account"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"请输入初始密码"},model:{value:t.formData.password,callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"手机号码",prop:"mobile"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.formData.mobile,callback:function(e){t.$set(t.formData,"mobile",e)},expression:"formData.mobile"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"超管",prop:"super_manager"}},[a("el-radio-group",{model:{value:t.formData.super_manager,callback:function(e){t.$set(t.formData,"super_manager",e)},expression:"formData.super_manager"}},[a("el-radio",{attrs:{label:1}},[t._v("是")]),t._v(" "),a("el-radio",{attrs:{label:0}},[t._v("否")])],1),t._v(" "),a("el-popover",{attrs:{placement:"top-start",title:"权限说明",width:"300",trigger:"hover"}},[t._v("\n          超管具有所有空间和项目权限\n          "),a("el-button",{staticStyle:{color:"#666"},attrs:{slot:"reference",type:"text",icon:"el-icon-question"},slot:"reference"})],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{disabled:t.formProps.disabled,type:"primary"},on:{click:t.submit}},[t._v("确 定")])],1)],1)],1)},r=[],i=a("61f7"),l=a("c24f"),n={data:function(){var t=function(t,e,a){Object(i["c"])(e)?a():a(new Error("请输入正确的用户名"))},e=function(t,e,a){e?Object(i["b"])(e)?a():a(new Error("8到16个字符，至少包含字母、数字、特殊符号中的两种")):a()};return{dialogVisible:!1,tableData:[],tempFormData:{},pagination:{page:1,rows:16,total:0},formProps:{disabled:!1},formData:{id:0,account:"",password:"",name:"",mobile:"",role:"member",super_manager:0},formRules:{account:[{required:!0,message:"请输入账号",trigger:"blur",validator:t}],password:[{trigger:"blur",validator:e}],name:[{required:!0,message:"请输入名称",trigger:"blur"}],role:[{required:!0,message:"请选择角色",trigger:"change"}]}}},created:function(){this.storeFormData(),this.getList(),this.getTotal()},methods:{getList:function(){var t=this;Object(l["e"])(this.pagination).then((function(e){t.tableData=e.data.list}))},getTotal:function(){var t=this;Object(l["g"])(this.crontabCommand).then((function(e){t.pagination.total=e.data.total}))},handleCurrentChange:function(t){this.pagination.page=t,this.getList()},handleAdd:function(){this.restoreFormData(),this.dialogVisible=!0},handleEdit:function(t){this.restoreFormData(),this.formData=Object.assign(this.formData,t),this.dialogVisible=!0},handleRemove:function(t){var e=this;this.$confirm("此操作将删除该组员, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(l["i"])(t.id).then((function(t){e.$message.success("删除成功"),e.getList(),e.getTotal()}))})).catch((function(){e.$message.info("已取消删除")}))},submit:function(){var t=this;this.$refs.form.validate((function(e){if(!e)return!1;0===t.formData.id?t.add():t.edit()}))},add:function(){var t=this;this.formProps.disabled=!0,Object(l["a"])(this.formData).then((function(e){t.$message.success("添加成功"),t.getList(),t.getTotal(),t.dialogVisible=!1})).finally((function(){t.formProps.disabled=!1}))},edit:function(){var t=this;this.formProps.disabled=!0,Object(l["c"])(this.formData).then((function(e){t.$message.success("修改成功"),t.getList(),t.dialogVisible=!1})).finally((function(){t.formProps.disabled=!1}))},storeFormData:function(){this.tempFormData=JSON.parse(JSON.stringify(this.formData))},restoreFormData:function(){this.formData=JSON.parse(JSON.stringify(this.tempFormData))}}},s=n,c=a("4023"),u=Object(c["a"])(s,o,r,!1,null,null,null);e["default"]=u.exports}}]);